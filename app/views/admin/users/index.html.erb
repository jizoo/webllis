<% provide(:title, 'ユーザ管理') %>
<h1>ユーザ管理</h1>

<div class="row">
  <div class="col-md-12">
    <%= link_to 'ユーザの新規登録', :new_admin_user, class: "btn btn-default" %>
    <table class="table table-striped">
      <tr>
        <th>ユーザ名</th>
        <th>メールアドレス</th>
        <th>停止フラグ</th>
        <th>編集者権限</th>
        <th>アクション</th>
      </tr>
      <% @users.each do |m| %>
        <% p = UserPresenter.new(m, self) %>
        <tr>
          <td><%= m.name %></td>
          <td><%= m.email %></td>
          <td><%= p.check_mark(m.suspended) %></td>
          <td><%= p.check_mark(m.editor) %></td>
          <td>
            <%= link_to '編集', [ :edit, :admin, m ] %> |
            <%= link_to '削除', [ :admin, m ], method: :delete,
              data: { confirm: '本当に削除しますか？' } %>
          </td>
        </tr>
      <% end %>
    </table>
    <%= paginate @users %>
  </div>
</div>
